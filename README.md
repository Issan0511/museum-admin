# Museum Admin

åšç‰©é¤¨ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ å‘ã‘ã®ç®¡ç†ç”»é¢ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚Supabaseä¸Šã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰é–²è¦§ãƒ»ç·¨é›†ã§ãã¾ã™ã€‚

## æ¦‚è¦

Museum Adminã¯ã€åšç‰©é¤¨ã®å·¥èŠ¸å“ã€ã‚¤ãƒ™ãƒ³ãƒˆã€ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã€ãƒ‡ãƒ¢ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãªã©ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®è»½é‡ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚Next.js + TypeScript + Tailwind CSSã§æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€Supabaseã‚’ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚

### ä¸»ãªæ©Ÿèƒ½

- ğŸ“Š **ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§è¡¨ç¤º** - ç®¡ç†å¯¾è±¡ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä¸€è¦§è¡¨ç¤º
- ğŸ“ **ãƒ‡ãƒ¼ã‚¿é–²è¦§** - ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã§è¡¨ç¤º
- âœï¸ **ãƒ‡ãƒ¼ã‚¿ç·¨é›†** - æ—¢å­˜ãƒ¬ã‚³ãƒ¼ãƒ‰ã®æ›´æ–°
- â• **ãƒ‡ãƒ¼ã‚¿è¿½åŠ ** - æ–°è¦ãƒ¬ã‚³ãƒ¼ãƒ‰ã®ä½œæˆ
- ğŸ—‘ï¸ **ãƒ‡ãƒ¼ã‚¿å‰Šé™¤** - ãƒ¬ã‚³ãƒ¼ãƒ‰ã®å‰Šé™¤
- ğŸ” **å¤šè¨€èªå¯¾å¿œ** - æ—¥æœ¬èªã€è‹±èªã€ä¸­å›½èªã®ãƒ‡ãƒ¼ã‚¿ç®¡ç†

### ç®¡ç†å¯¾è±¡ãƒ†ãƒ¼ãƒ–ãƒ«

- **ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼** (`calendar`) - ãƒ‡ãƒ¢æ—¥ç¨‹ç®¡ç†
- **å·¥èŠ¸å“** (`crafts`) - å·¥èŠ¸å“æƒ…å ±ï¼ˆå¤šè¨€èªå¯¾å¿œï¼‰
- **ã‚¤ãƒ™ãƒ³ãƒˆ** (`events`) - ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ï¼ˆå¤šè¨€èªå¯¾å¿œï¼‰
- **ãƒ‡ãƒ¢ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ** (`demo_templates`) - ãƒ‡ãƒ¢ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆå¤šè¨€èªå¯¾å¿œï¼‰

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Next.js 14 (App Router)
- **è¨€èª**: TypeScript
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: Tailwind CSS
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: Supabase (PostgreSQL)
- **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼**: npm

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å¿…è¦è¦ä»¶

- Node.js 18.x ä»¥ä¸Š
- npm
- Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/Issan0511/museum-admin.git
cd museum-admin
```

2. ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install
```

3. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š

`.env.local` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ä½œæˆã—ã€ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™ï¼š

```env
SUPABASE_URL=your-supabase-url
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
```

> **æ³¨æ„**: `SUPABASE_SERVICE_ROLE_KEY` ã¯ã‚µãƒ¼ãƒ“ã‚¹ãƒ­ãƒ¼ãƒ«ã‚­ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®å®Œå…¨ãªã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒå¿…è¦ã§ã™ã€‚

4. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•

```bash
npm run dev
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ [http://localhost:3000](http://localhost:3000) ã‚’é–‹ãã¾ã™ã€‚

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
museum-admin/
â”œâ”€â”€ app/                      # Next.js App Router
â”‚   â”œâ”€â”€ layout.tsx           # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ page.tsx             # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§ï¼‰
â”‚   â”œâ”€â”€ globals.css          # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”œâ”€â”€ [table]/             # å‹•çš„ãƒ«ãƒ¼ãƒˆï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«è©³ç´°ï¼‰
â”‚   â”‚   â””â”€â”€ page.tsx         # ãƒ†ãƒ¼ãƒ–ãƒ«ç·¨é›†ç”»é¢
â”‚   â””â”€â”€ api/                 # APIãƒ«ãƒ¼ãƒˆ
â”‚       â””â”€â”€ tables/
â”‚           â””â”€â”€ [table]/
â”‚               â””â”€â”€ route.ts # CRUD API
â”œâ”€â”€ components/              # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ TableEditor.tsx      # ãƒ†ãƒ¼ãƒ–ãƒ«ç·¨é›†UI
â”œâ”€â”€ lib/                     # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ tables.ts           # ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å®šç¾©
â”‚   â””â”€â”€ supabase/
â”‚       â””â”€â”€ server.ts       # Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”œâ”€â”€ csvs/                    # CSVãƒ•ã‚¡ã‚¤ãƒ«ç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â””â”€â”€ public/                  # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
```

## ä½¿ã„æ–¹

### ãƒ†ãƒ¼ãƒ–ãƒ«ã®è¿½åŠ 

æ–°ã—ã„ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ç®¡ç†ç”»é¢ã«è¿½åŠ ã™ã‚‹ã«ã¯ã€`lib/tables.ts` ã‚’ç·¨é›†ã—ã¾ã™ï¼š

```typescript
const TABLES: TableMetadata[] = [
  // ...æ—¢å­˜ã®ãƒ†ãƒ¼ãƒ–ãƒ«
  {
    tableName: "your_table_name",  // Supabaseã®ãƒ†ãƒ¼ãƒ–ãƒ«å
    displayName: "è¡¨ç¤ºå",          // ç®¡ç†ç”»é¢ã§ã®è¡¨ç¤ºå
    columns: ["id", "name", "..."], // ã‚«ãƒ©ãƒ åã®é…åˆ—
  },
];
```

### APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

å„ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã—ã¦ä»¥ä¸‹ã®APIãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™ï¼š

- `GET /api/tables/[table]` - ãƒ‡ãƒ¼ã‚¿å–å¾—
- `POST /api/tables/[table]` - ãƒ‡ãƒ¼ã‚¿ä½œæˆ
- `PUT /api/tables/[table]` - ãƒ‡ãƒ¼ã‚¿æ›´æ–°
- `DELETE /api/tables/[table]` - ãƒ‡ãƒ¼ã‚¿å‰Šé™¤

## é–‹ç™º

### ãƒ“ãƒ«ãƒ‰

```bash
npm run build
```

### æœ¬ç•ªèµ·å‹•

```bash
npm start
```

### Lint

```bash
npm run lint
```

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

Private

## ä½œè€…

Issan0511
